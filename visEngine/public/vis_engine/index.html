<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test Page</title>
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
  </head>
  <body>
    <script>

    function reduceData(dataset, dimension, callback){
        // Invoke the API for computing data cubes with Spark.
        $.ajax({
            type: "GET",
            url: "reduce_data",
            data: {
                options: JSON.stringify({
                    dataset: dataset,
                    cube: {
                        dimensions: [
                            { name: dimension }
                        ],
                        measures: [
                            { aggregationOp: "count" }
                        ]
                    }
                })
            },
            success: function(data){
                //callback(JSON.parse(data));
                callback(data);
            }
        });
    }
    reduceData("adult", "race", function(result){
        console.log(result);
    });
    </script>
  </body>
</html>
