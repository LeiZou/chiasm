<!DOCTYPE html>

<html>
<head>
  <title>action.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>action.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>This module provides methods for creating and serializing Action 
objects, which are used to express differences between configurations.</p>
<p>The primary purpose of Action objects is to support editing the
JSON application configuration at runtime. To avoid reloading the
entire configuration in response to each change, the difference is computed
and expressed as an array of Action objects, then the Action objects
are applied to the runtime.</p>
<p>Based on previous work found at:
<a href="https://github.com/curran/overseer/blob/master/src/action.js">https://github.com/curran/overseer/blob/master/src/action.js</a></p>
<p>This lays the foundation for undo/redo and real-time synchronization.</p>
<p>For synchronization, these Action objects should be directly translatable
into ShareJS operations for JSON transformation, documented at
<a href="https://github.com/ottypes/json0">https://github.com/ottypes/json0</a></p>
<p>Created by Curran Kelleher Feb 2015</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>define([], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">return</span> {
    create: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(alias, plugin)</span> </span>{
      <span class="hljs-keyword">return</span> { method: <span class="hljs-string">"create"</span>, alias: alias, plugin: plugin };
    },
    destroy: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(alias)</span> </span>{
      <span class="hljs-keyword">return</span> { method: <span class="hljs-string">"destroy"</span>, alias: alias };
    },
    set: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(alias, property, value)</span> </span>{
      <span class="hljs-keyword">return</span> { method: <span class="hljs-string">"set"</span>, alias: alias, property: property, value: value };
    },
    unset: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(alias, property)</span> </span>{
      <span class="hljs-keyword">return</span> { method: <span class="hljs-string">"unset"</span>, alias: alias, property: property};
    },
    toString: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(action)</span> </span>{
      <span class="hljs-keyword">return</span> [
        action.method + <span class="hljs-string">"("</span>,
        action.alias,
        action.property !== <span class="hljs-literal">undefined</span> ? <span class="hljs-string">", "</span> + action.property : <span class="hljs-string">""</span>,
        action.value !== <span class="hljs-literal">undefined</span> ? <span class="hljs-string">", "</span> + action.value : <span class="hljs-string">""</span>,
        action.plugin !== <span class="hljs-literal">undefined</span> ? <span class="hljs-string">", "</span> + action.plugin : <span class="hljs-string">""</span>,
        <span class="hljs-string">")"</span>
      ].join(<span class="hljs-string">""</span>);
    }
  };
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
